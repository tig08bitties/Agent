{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Transaction/ITransactionController.js"],"sourcesContent":["/**\n * The status of the transaction. Each status represents the state of the transaction internally\n * in the wallet. Some of these correspond with the state of the transaction on the network, but\n * some are wallet-specific.\n */\n\nlet TransactionStatus = /*#__PURE__*/function (TransactionStatus) {\n  TransactionStatus[\"approved\"] = \"approved\";\n  TransactionStatus[\"cancelled\"] = \"cancelled\";\n  TransactionStatus[\"cancelling\"] = \"cancelling\";\n  TransactionStatus[\"confirmed\"] = \"confirmed\";\n  TransactionStatus[\"failed\"] = \"failed\";\n  TransactionStatus[\"finalized\"] = \"finalized\";\n  TransactionStatus[\"processed\"] = \"processed\";\n  TransactionStatus[\"rejected\"] = \"rejected\";\n  TransactionStatus[\"signed\"] = \"signed\";\n  TransactionStatus[\"submitted\"] = \"submitted\";\n  TransactionStatus[\"unapproved\"] = \"unapproved\";\n  TransactionStatus[\"dropped\"] = \"dropped\";\n  TransactionStatus[\"expired\"] = \"expired\";\n  TransactionStatus[\"pending\"] = \"pending\";\n  return TransactionStatus;\n}({});\nconst TRANSACTION_TYPES = {\n  CANCEL: \"cancel\",\n  RETRY: \"retry\",\n  CONTRACT_INTERACTION: \"contractInteraction\",\n  DEPLOY_CONTRACT: \"contractDeployment\",\n  WASM_BASED_DEPLOY: \"wasmBasedDeploy\",\n  STANDARD_TRANSACTION: \"transaction\",\n  STANDARD_PAYMENT_TRANSACTION: \"payment_transaction\",\n  // specific to chains like solana and casper\n  SENT_ETHER: \"sentEther\",\n  SENT_SOL: \"sentSol\",\n  TOKEN_METHOD_TRANSFER: \"transfer\",\n  TOKEN_METHOD_TRANSFER_FROM: \"transferFrom\",\n  TOKEN_METHOD_APPROVE: \"approve\",\n  TOKEN_BURN: \"burn\",\n  COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM: \"safeTransferFrom\",\n  SET_APPROVAL_FOR_ALL: \"setApprovalForAll\"\n};\nconst TX_EVENTS = {\n  TX_WARNING: \"tx:warning\",\n  TX_ERROR: \"tx:error\",\n  TX_FAILED: \"tx:failed\",\n  TX_CONFIRMED: \"tx:confirmed\",\n  TX_DROPPED: \"tx:dropped\",\n  TX_EXPIRED: \"tx:expired\",\n  TX_STATUS_UPDATE: \"tx:status_update\",\n  TX_UNAPPROVED: \"tx:unapproved\",\n  TX_RETRY: \"tx:retry\",\n  TX_BLOCK_UPDATE: \"tx:block_update\"\n};\n\n/**\n * Transaction controller configuration\n */\n\n/**\n * Transaction controller state\n */\n\n/**\n * Result\n *\n * result - Promise resolving to a new transaction hash\n * transactionMeta - Meta information about this new transaction\n */\n\nexport { TRANSACTION_TYPES, TX_EVENTS, TransactionStatus };\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;AAED,IAAI,oBAAoB,WAAW,GAAE,SAAU,iBAAiB;IAC9D,iBAAiB,CAAC,WAAW,GAAG;IAChC,iBAAiB,CAAC,YAAY,GAAG;IACjC,iBAAiB,CAAC,aAAa,GAAG;IAClC,iBAAiB,CAAC,YAAY,GAAG;IACjC,iBAAiB,CAAC,SAAS,GAAG;IAC9B,iBAAiB,CAAC,YAAY,GAAG;IACjC,iBAAiB,CAAC,YAAY,GAAG;IACjC,iBAAiB,CAAC,WAAW,GAAG;IAChC,iBAAiB,CAAC,SAAS,GAAG;IAC9B,iBAAiB,CAAC,YAAY,GAAG;IACjC,iBAAiB,CAAC,aAAa,GAAG;IAClC,iBAAiB,CAAC,UAAU,GAAG;IAC/B,iBAAiB,CAAC,UAAU,GAAG;IAC/B,iBAAiB,CAAC,UAAU,GAAG;IAC/B,OAAO;AACT,EAAE,CAAC;AACH,MAAM,oBAAoB;IACxB,QAAQ;IACR,OAAO;IACP,sBAAsB;IACtB,iBAAiB;IACjB,mBAAmB;IACnB,sBAAsB;IACtB,8BAA8B;IAC9B,4CAA4C;IAC5C,YAAY;IACZ,UAAU;IACV,uBAAuB;IACvB,4BAA4B;IAC5B,sBAAsB;IACtB,YAAY;IACZ,uCAAuC;IACvC,sBAAsB;AACxB;AACA,MAAM,YAAY;IAChB,YAAY;IACZ,UAAU;IACV,WAAW;IACX,cAAc;IACd,YAAY;IACZ,YAAY;IACZ,kBAAkB;IAClB,eAAe;IACf,UAAU;IACV,iBAAiB;AACnB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Block/BaseBlockTracker.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { BaseController } from '../BaseController.js';\n\nconst sec = 1000;\nconst calculateSum = (accumulator, currentValue) => accumulator + currentValue;\nclass BaseBlockTracker extends BaseController {\n  constructor({\n    config = {},\n    state = {}\n  }) {\n    super({\n      config,\n      state\n    });\n\n    // config\n    _defineProperty(this, \"name\", \"BaseBlockTracker\");\n    _defineProperty(this, \"_blockResetTimeout\", void 0);\n    this.defaultState = {\n      _currentBlock: {\n        idempotencyKey: \"\"\n      },\n      _isRunning: false\n    };\n    this.defaultConfig = {\n      blockResetDuration: 20 * sec\n    };\n    this.initialize();\n\n    // bind functions for internal use\n    this._onNewListener = this._onNewListener.bind(this);\n    this._onRemoveListener = this._onRemoveListener.bind(this);\n    this._resetCurrentBlock = this._resetCurrentBlock.bind(this);\n\n    // listen for handler changes\n    this._setupInternalEvents();\n  }\n  isRunning() {\n    return this.state._isRunning;\n  }\n  getCurrentBlock() {\n    return this.state._currentBlock;\n  }\n  async getLatestBlock() {\n    // return if available\n    if (this.state._currentBlock.idempotencyKey) {\n      return this.state._currentBlock;\n    }\n    // wait for a new latest block\n    const latestBlock = await new Promise(resolve => {\n      this.once(\"latest\", block => {\n        if (block) {\n          resolve(block);\n        }\n      });\n    });\n    // return newly set current block\n    return latestBlock;\n  }\n\n  // dont allow module consumer to remove our internal event listeners\n  removeAllListeners(eventName) {\n    if (eventName) {\n      super.removeAllListeners(eventName);\n    } else {\n      super.removeAllListeners();\n    }\n    // re-add internal events\n    this._setupInternalEvents();\n    // trigger stop check just in case\n    this._onRemoveListener();\n    return this;\n  }\n\n  /**\n   * To be implemented in subclass.\n   */\n  _start() {\n    // default behavior is noop\n  }\n\n  /**\n   * To be implemented in subclass.\n   */\n  _end() {\n    // default behavior is noop\n  }\n  _newPotentialLatest(newBlock) {\n    const currentBlock = this.state._currentBlock;\n    // only update if block number is higher\n    if (currentBlock && newBlock.idempotencyKey === currentBlock.idempotencyKey) {\n      return;\n    }\n    this._setCurrentBlock(newBlock);\n  }\n  _setupInternalEvents() {\n    // first remove listeners for idempotency\n    this.removeListener(\"newListener\", this._onNewListener);\n    this.removeListener(\"removeListener\", this._onRemoveListener);\n    // then add them\n    this.on(\"removeListener\", this._onRemoveListener);\n    this.on(\"newListener\", this._onNewListener);\n  }\n  _onNewListener() {\n    this._maybeStart();\n  }\n  _onRemoveListener() {\n    // `removeListener` is called *after* the listener is removed\n    if (this._getBlockTrackerEventCount() > 0) {\n      return;\n    }\n    this._maybeEnd();\n  }\n  _maybeStart() {\n    if (this.state._isRunning) {\n      return;\n    }\n    this.state._isRunning = true;\n    // cancel setting latest block to stale\n    this._cancelBlockResetTimeout();\n    this._start();\n  }\n  _maybeEnd() {\n    if (!this.state._isRunning) {\n      return;\n    }\n    this.state._isRunning = false;\n    this._setupBlockResetTimeout();\n    this._end();\n  }\n  _getBlockTrackerEventCount() {\n    const blockTrackerEvents = [\"latest\", \"sync\"];\n    return blockTrackerEvents.map(eventName => this.listenerCount(eventName)).reduce(calculateSum);\n  }\n  _setCurrentBlock(newBlock) {\n    const oldBlock = this.state._currentBlock;\n    this.update({\n      _currentBlock: newBlock\n    });\n    this.emit(\"latest\", newBlock);\n    this.emit(\"sync\", {\n      oldBlock,\n      newBlock\n    });\n  }\n  _setupBlockResetTimeout() {\n    // clear any existing timeout\n    this._cancelBlockResetTimeout();\n    // clear latest block when stale\n    this._blockResetTimeout = setTimeout(this._resetCurrentBlock, this.config.blockResetDuration);\n\n    // nodejs - dont hold process open\n    if (this._blockResetTimeout.unref) {\n      this._blockResetTimeout.unref();\n    }\n  }\n  _cancelBlockResetTimeout() {\n    if (this._blockResetTimeout) {\n      clearTimeout(this._blockResetTimeout);\n    }\n  }\n  _resetCurrentBlock() {\n    this.update({\n      _currentBlock: {\n        idempotencyKey: \"\"\n      }\n    });\n  }\n}\n\nexport { BaseBlockTracker };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/utils/PollingManager.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport log from 'loglevel';\nimport { timeout } from './utils.js';\n\nclass PollingManager {\n  constructor(idleTimeTracker, pollingInterval) {\n    _defineProperty(this, \"idleTimeTracker\", void 0);\n    _defineProperty(this, \"pollingInterval\", void 0);\n    _defineProperty(this, \"isPolling\", false);\n    this.pollingInterval = pollingInterval;\n    this.idleTimeTracker = idleTimeTracker;\n  }\n  start(action) {\n    this.idleTimeTracker.on(\"active\", this.poll.bind(this, action));\n    this.idleTimeTracker.on(\"idle\", this.stop.bind(this));\n    this.poll(action);\n  }\n  stop() {\n    this.isPolling = false;\n  }\n  async poll(action) {\n    if (this.isPolling) return;\n    this.isPolling = true;\n    while (this.isPolling) {\n      if (this.idleTimeTracker.checkIfIdle()) {\n        this.isPolling = false;\n        return;\n      }\n      try {\n        await action();\n      } catch (error) {\n        log.error(error);\n      }\n      await timeout(this.pollingInterval);\n    }\n  }\n}\n\nexport { PollingManager };\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,MAAM;IAQJ,MAAM,MAAM,EAAE;QACZ,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;QACvD,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI;QACnD,IAAI,CAAC,IAAI,CAAC;IACZ;IACA,OAAO;QACL,IAAI,CAAC,SAAS,GAAG;IACnB;IACA,MAAM,KAAK,MAAM,EAAE;QACjB,IAAI,IAAI,CAAC,SAAS,EAAE;QACpB,IAAI,CAAC,SAAS,GAAG;QACjB,MAAO,IAAI,CAAC,SAAS,CAAE;YACrB,IAAI,IAAI,CAAC,eAAe,CAAC,WAAW,IAAI;gBACtC,IAAI,CAAC,SAAS,GAAG;gBACjB;YACF;YACA,IAAI;gBACF,MAAM;YACR,EAAE,OAAO,OAAO;gBACd,mMAAA,CAAA,UAAG,CAAC,KAAK,CAAC;YACZ;YACA,MAAM,CAAA,GAAA,iYAAA,CAAA,UAAO,AAAD,EAAE,IAAI,CAAC,eAAe;QACpC;IACF;IA9BA,YAAY,eAAe,EAAE,eAAe,CAAE;QAC5C,CAAA,GAAA,yOAAA,CAAA,UAAe,AAAD,EAAE,IAAI,EAAE,mBAAmB,KAAK;QAC9C,CAAA,GAAA,yOAAA,CAAA,UAAe,AAAD,EAAE,IAAI,EAAE,mBAAmB,KAAK;QAC9C,CAAA,GAAA,yOAAA,CAAA,UAAe,AAAD,EAAE,IAAI,EAAE,aAAa;QACnC,IAAI,CAAC,eAAe,GAAG;QACvB,IAAI,CAAC,eAAe,GAAG;IACzB;AAyBF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Currency/BaseCurrencyController.js"],"sourcesContent":["import { BaseController } from '../BaseController.js';\n\n// every ten minutes\nconst POLLING_INTERVAL = 600000;\nclass BaseCurrencyController extends BaseController {\n  constructor({\n    config = {},\n    state\n  }) {\n    super({\n      config,\n      state\n    });\n    this.defaultState = {\n      currentCurrency: \"usd\",\n      conversionRate: 0,\n      conversionDate: \"N/A\",\n      nativeCurrency: \"ETH\"\n    };\n    this.defaultConfig = {\n      pollInterval: POLLING_INTERVAL\n    };\n    this.initialize();\n  }\n\n  //\n  // PUBLIC METHODS\n  //\n\n  getNativeCurrency() {\n    return this.state.nativeCurrency;\n  }\n  setNativeCurrency(nativeCurrency) {\n    this.update({\n      nativeCurrency,\n      ticker: nativeCurrency\n    });\n  }\n  getCurrentCurrency() {\n    return this.state.currentCurrency;\n  }\n  setCurrentCurrency(currentCurrency) {\n    this.update({\n      currentCurrency\n    });\n  }\n\n  /**\n   * A getter for the conversionRate property\n   *\n   * @returns The conversion rate from ETH to the selected currency.\n   *\n   */\n  getConversionRate() {\n    return this.state.conversionRate;\n  }\n  setConversionRate(conversionRate) {\n    this.update({\n      conversionRate\n    });\n  }\n\n  /**\n   * A getter for the conversionDate property\n   *\n   * @returns The date at which the conversion rate was set. Expressed in milliseconds since midnight of\n   * January 1, 1970\n   *\n   */\n  getConversionDate() {\n    return this.state.conversionDate;\n  }\n  setConversionDate(conversionDate) {\n    this.update({\n      conversionDate\n    });\n  }\n}\n\nexport { BaseCurrencyController };\n"],"names":[],"mappings":";;;AAAA;;AAEA,oBAAoB;AACpB,MAAM,mBAAmB;AACzB,MAAM,+BAA+B,iYAAA,CAAA,iBAAc;IAqBjD,EAAE;IACF,iBAAiB;IACjB,EAAE;IAEF,oBAAoB;QAClB,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc;IAClC;IACA,kBAAkB,cAAc,EAAE;QAChC,IAAI,CAAC,MAAM,CAAC;YACV;YACA,QAAQ;QACV;IACF;IACA,qBAAqB;QACnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe;IACnC;IACA,mBAAmB,eAAe,EAAE;QAClC,IAAI,CAAC,MAAM,CAAC;YACV;QACF;IACF;IAEA;;;;;GAKC,GACD,oBAAoB;QAClB,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc;IAClC;IACA,kBAAkB,cAAc,EAAE;QAChC,IAAI,CAAC,MAAM,CAAC;YACV;QACF;IACF;IAEA;;;;;;GAMC,GACD,oBAAoB;QAClB,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc;IAClC;IACA,kBAAkB,cAAc,EAAE;QAChC,IAAI,CAAC,MAAM,CAAC;YACV;QACF;IACF;IAvEA,YAAY,EACV,SAAS,CAAC,CAAC,EACX,KAAK,EACN,CAAE;QACD,KAAK,CAAC;YACJ;YACA;QACF;QACA,IAAI,CAAC,YAAY,GAAG;YAClB,iBAAiB;YACjB,gBAAgB;YAChB,gBAAgB;YAChB,gBAAgB;QAClB;QACA,IAAI,CAAC,aAAa,GAAG;YACnB,cAAc;QAChB;QACA,IAAI,CAAC,UAAU;IACjB;AAsDF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Keyring/BaseKeyringController.js"],"sourcesContent":["import { BaseController } from '../BaseController.js';\nimport { hashMessage, signMessage } from '../utils/utils.js';\n\nclass BaseKeyringController extends BaseController {\n  constructor({\n    config = {},\n    state\n  }) {\n    var _state$wallets;\n    super({\n      config,\n      state\n    });\n    this.defaultState = {\n      wallets: (_state$wallets = state.wallets) !== null && _state$wallets !== void 0 ? _state$wallets : []\n    };\n    this.initialize();\n  }\n\n  // for signing auth message\n  async signAuthMessage(address, message) {\n    const keyring = this.state.wallets.find(x => x.address === address);\n    if (!keyring) {\n      throw new Error(\"key does not exist\");\n    }\n    const hashedMessage = hashMessage(message).toString(\"hex\");\n    const rawMessageSig = await signMessage(keyring.privateKey, hashedMessage);\n    return rawMessageSig;\n  }\n}\n\nexport { BaseKeyringController };\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,MAAM,8BAA8B,iYAAA,CAAA,iBAAc;IAgBhD,2BAA2B;IAC3B,MAAM,gBAAgB,OAAO,EAAE,OAAO,EAAE;QACtC,MAAM,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK;QAC3D,IAAI,CAAC,SAAS;YACZ,MAAM,IAAI,MAAM;QAClB;QACA,MAAM,gBAAgB,CAAA,GAAA,iYAAA,CAAA,cAAW,AAAD,EAAE,SAAS,QAAQ,CAAC;QACpD,MAAM,gBAAgB,MAAM,CAAA,GAAA,iYAAA,CAAA,cAAW,AAAD,EAAE,QAAQ,UAAU,EAAE;QAC5D,OAAO;IACT;IAxBA,YAAY,EACV,SAAS,CAAC,CAAC,EACX,KAAK,EACN,CAAE;QACD,IAAI;QACJ,KAAK,CAAC;YACJ;YACA;QACF;QACA,IAAI,CAAC,YAAY,GAAG;YAClB,SAAS,CAAC,iBAAiB,MAAM,OAAO,MAAM,QAAQ,mBAAmB,KAAK,IAAI,iBAAiB,EAAE;QACvG;QACA,IAAI,CAAC,UAAU;IACjB;AAYF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Message/constants.js"],"sourcesContent":["const MessageStatus = {\n  UNAPPROVED: \"unapproved\",\n  SIGNED: \"signed\",\n  PENDING: \"pending\",\n  APPROVED: \"approved\",\n  REJECTED: \"rejected\",\n  FAILED: \"failed\"\n};\nconst MESSAGE_EVENTS = {\n  UNAPPROVED_MESSAGE: \"unapprovedMessage\"\n};\n\nexport { MESSAGE_EVENTS, MessageStatus };\n"],"names":[],"mappings":";;;;AAAA,MAAM,gBAAgB;IACpB,YAAY;IACZ,QAAQ;IACR,SAAS;IACT,UAAU;IACV,UAAU;IACV,QAAQ;AACV;AACA,MAAM,iBAAiB;IACrB,oBAAoB;AACtB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Message/AbstractMessagecontroller.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { providerErrors, rpcErrors } from '@web3auth/auth';\nimport { BaseController } from '../BaseController.js';\nimport { MessageStatus } from './constants.js';\n\nclass AbstractMessageController extends BaseController {\n  /**\n   * Controller in charge of managing - storing, adding, removing, updating - Messages.\n   *\n   */\n  constructor({\n    config,\n    state\n  }) {\n    super({\n      config,\n      state\n    });\n    _defineProperty(this, \"messages\", void 0);\n    this.defaultState = {\n      unapprovedMessages: {},\n      unapprovedMessagesCount: 0\n    };\n    this.messages = [];\n    this.defaultConfig = {};\n    super.initialize();\n  }\n  getMessage(messageId) {\n    return this.messages.find(message => message.id === messageId);\n  }\n  getAllMessages() {\n    return this.messages;\n  }\n  setMetadata(messageId, metadata) {\n    const message = this.getMessage(messageId);\n    if (!message) {\n      throw new Error(`${this.name}: Message not found for id: ${messageId}.`);\n    }\n    message.metadata = metadata;\n    this.updateMessage(message);\n  }\n  getUnapprovedMessages() {\n    return this.messages.filter(message => message.status === MessageStatus.UNAPPROVED).reduce((result, message) => {\n      result[message.id] = message;\n      return result;\n    }, {});\n  }\n  async addMessage(message) {\n    this.messages.push(message);\n    this.saveMessageList();\n  }\n  approveMessage(messageId, messageParams) {\n    this.setMessageStatus(messageId, MessageStatus.APPROVED);\n    return this.prepMessageForSigning(messageParams);\n  }\n  setMessageStatus(messageId, status) {\n    const message = this.getMessage(messageId);\n    if (!message) {\n      throw new Error(`${this.name}: Message not found for id: ${messageId}.`);\n    }\n    message.status = status;\n    this.updateMessage(message);\n    this.emit(`${messageId}:${status}`, message);\n    if (status === MessageStatus.REJECTED || status === MessageStatus.SIGNED || status === MessageStatus.FAILED) {\n      this.emit(`${messageId}:finished`, message);\n    }\n  }\n  async waitForFinishStatus(msgParams, messageName) {\n    return new Promise((resolve, reject) => {\n      const handleFinished = msg => {\n        if (msg.status === MessageStatus.REJECTED) {\n          return reject(providerErrors.userRejectedRequest(`${messageName} Signature: User denied message signature`));\n        }\n        if (msg.status === MessageStatus.FAILED) {\n          return reject(rpcErrors.internal(`${messageName} Signature: failed to sign message ${msg.error}`));\n        }\n        if (msg.status === MessageStatus.SIGNED) {\n          return resolve(msg.rawSig);\n        }\n        return reject(rpcErrors.internal(`${messageName} Signature: Unknown problem: ${JSON.stringify(msgParams)}`));\n      };\n      this.once(`${msgParams.id}:finished`, handleFinished);\n    });\n  }\n  updateMessage(message) {\n    const index = this.messages.findIndex(msg => message.id === msg.id);\n    if (index !== -1) {\n      this.messages[index] = message;\n    }\n    this.saveMessageList();\n  }\n  saveMessageList() {\n    const unapprovedMessages = this.getUnapprovedMessages();\n    const unapprovedMessagesCount = Object.keys(unapprovedMessages).length;\n    this.update({\n      unapprovedMessages,\n      unapprovedMessagesCount\n    });\n  }\n}\n\nexport { AbstractMessageController };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/enums.js"],"sourcesContent":["const FEATURES_PROVIDER_CHANGE_WINDOW = {\n  height: 660,\n  width: 375\n};\nconst FEATURES_DEFAULT_WALLET_WINDOW = {\n  height: 740,\n  width: 1315\n};\nconst FEATURES_DEFAULT_POPUP_WINDOW = {\n  height: 700,\n  width: 1200\n};\nconst FEATURES_CONFIRM_WINDOW = {\n  height: 700,\n  width: 450\n};\nconst POPUP_LOADED = \"popup_loaded\";\nconst POPUP_RESULT = \"popup_result\";\nconst SETUP_COMPLETE = \"setup_complete\";\nconst ACTIVITY_ACTION_ALL = \"walletActivity.allTransactions\";\nconst ACTIVITY_ACTION_SEND = \"walletActivity.send\";\nconst ACTIVITY_ACTION_BURN = \"walletActivity.burn\";\nconst ACTIVITY_ACTION_RECEIVE = \"walletActivity.receive\";\nconst ACTIVITY_ACTION_TOPUP = \"walletActivity.topup\";\nconst ACTIVITY_ACTION_CREATE_TRUSTLINE = \"walletActivity.createTrustline\";\nconst ACTIVITY_ACTION_REMOVE_TRUSTLINE = \"walletActivity.removeTrustline\";\nconst ACTIVITY_ACTION_CREATE_NFT_OFFER = \"walletActivity.createNftOffer\";\nconst ACTIVITY_ACTION_ACCEPT_NFT_OFFER = \"walletActivity.acceptNftOffer\";\nconst ACTIVITY_ACTION_CANCEL_NFT_OFFER = \"walletActivity.cancelNftOffer\";\nconst ACTIVITY_PERIOD_ALL = \"walletActivity.all\";\nconst ACTIVITY_PERIOD_WEEK_ONE = \"walletActivity.lastOneWeek\";\nconst ACTIVITY_PERIOD_MONTH_ONE = \"walletActivity.lastOneMonth\";\nconst ACTIVITY_PERIOD_MONTH_SIX = \"walletActivity.lastSixMonts\";\nconst ACTIVITY_STATUS_SUCCESSFUL = \"walletActivity.successful\";\nconst ACTIVITY_STATUS_UNSUCCESSFUL = \"walletActivity.unsuccessful\";\nconst ACTIVITY_STATUS_PENDING = \"walletActivity.pending\";\nconst ACTIVITY_STATUS_CANCELLED = \"walletActivity.cancelled\";\nconst ACTIVITY_STATUS_CANCELLING = \"walletActivity.cancelling\";\nconst COMMUNICATION_NOTIFICATIONS = {\n  IFRAME_STATUS: \"iframe_status\",\n  // Tell embed to close the window\n  CLOSE_WINDOW: \"close_window\",\n  USER_LOGGED_IN: \"user_logged_in\",\n  USER_LOGGED_OUT: \"user_logged_out\",\n  // toggle widget button based on gating and config\n  TOGGLE_WIDGET_BUTTON: \"toggle_widget_button\",\n  // allow wallet service based on gating\n  ALLOW_WALLET_SERVICE: \"allow_wallet_service\"\n};\nconst COMMUNICATION_JRPC_METHODS = {\n  LOGOUT: \"logout\",\n  WALLET_INSTANCE_ID: \"wallet_instance_id\",\n  USER_INFO: \"user_info\",\n  SET_PROVIDER: \"set_provider\",\n  TOPUP: \"topup\",\n  IFRAME_STATUS: \"iframe_status\",\n  // user has closed the window from embed's side\n  CLOSED_WINDOW: \"closed_window\",\n  WINDOW_BLOCKED: \"window_blocked\",\n  GET_PROVIDER_STATE: \"get_provider_state\",\n  LOGIN_WITH_PRIVATE_KEY: \"login_with_private_key\",\n  SHOW_WALLET_CONNECT: \"show_wallet_connect\",\n  SHOW_FUNDING: \"show_funding\",\n  SHOW_CHECKOUT: \"show_checkout\",\n  SHOW_RECEIVE: \"show_receive\",\n  SHOW_WALLET_UI: \"show_wallet_ui\",\n  SHOW_SWAP: \"show_swap\",\n  LOGIN_WITH_SESSION_ID: \"login_with_session_id\"\n};\nconst PROVIDER_JRPC_METHODS = {\n  GET_PROVIDER_STATE: \"wallet_get_provider_state\",\n  WALLET_SWITCH_CHAIN: \"wallet_switchChain\"\n};\nconst PROVIDER_NOTIFICATIONS = {\n  ACCOUNTS_CHANGED: \"wallet_accounts_changed\",\n  CHAIN_CHANGED: \"wallet_chain_changed\",\n  UNLOCK_STATE_CHANGED: \"wallet_unlock_state_changed\"\n};\nconst BROADCAST_CHANNELS = {\n  REDIRECT_CHANNEL: \"redirect_channel\",\n  PROVIDER_CHANGE_CHANNEL: \"torus_provider_change_channel\",\n  TRANSACTION_CHANNEL: \"torus_channel\",\n  MESSAGE_CHANNEL: \"torus_message_channel\",\n  WALLET_LOGOUT_CHANNEL: \"wallet_logout_channel\",\n  WALLET_SELECTED_ADDRESS_CHANNEL: \"wallet_selected_address_channel\",\n  WALLET_NETWORK_CHANGE_CHANNEL: \"wallet_network_change_channel\",\n  WALLET_ACCOUNT_IMPORT_CHANNEL: \"wallet_account_import_channel\",\n  THEME_CHANGE: \"theme_change_channel\",\n  TOP_UP_CHANNEL: \"top_up_channel\"\n};\nconst BROADCAST_CHANNELS_MSGS = {\n  LOGOUT: \"logout\",\n  ACCOUNT_IMPORTED: \"account_imported\",\n  SELECTED_ADDRESS_CHANGE: \"selected_address_change\",\n  NETWORK_CHANGE: \"network_change\",\n  SET_THEME: \"set_theme\"\n};\nlet ControllerEvents = /*#__PURE__*/function (ControllerEvents) {\n  ControllerEvents[\"UserUnauthorized\"] = \"user.unauthorized\";\n  return ControllerEvents;\n}({});\n\nexport { ACTIVITY_ACTION_ACCEPT_NFT_OFFER, ACTIVITY_ACTION_ALL, ACTIVITY_ACTION_BURN, ACTIVITY_ACTION_CANCEL_NFT_OFFER, ACTIVITY_ACTION_CREATE_NFT_OFFER, ACTIVITY_ACTION_CREATE_TRUSTLINE, ACTIVITY_ACTION_RECEIVE, ACTIVITY_ACTION_REMOVE_TRUSTLINE, ACTIVITY_ACTION_SEND, ACTIVITY_ACTION_TOPUP, ACTIVITY_PERIOD_ALL, ACTIVITY_PERIOD_MONTH_ONE, ACTIVITY_PERIOD_MONTH_SIX, ACTIVITY_PERIOD_WEEK_ONE, ACTIVITY_STATUS_CANCELLED, ACTIVITY_STATUS_CANCELLING, ACTIVITY_STATUS_PENDING, ACTIVITY_STATUS_SUCCESSFUL, ACTIVITY_STATUS_UNSUCCESSFUL, BROADCAST_CHANNELS, BROADCAST_CHANNELS_MSGS, COMMUNICATION_JRPC_METHODS, COMMUNICATION_NOTIFICATIONS, ControllerEvents, FEATURES_CONFIRM_WINDOW, FEATURES_DEFAULT_POPUP_WINDOW, FEATURES_DEFAULT_WALLET_WINDOW, FEATURES_PROVIDER_CHANGE_WINDOW, POPUP_LOADED, POPUP_RESULT, PROVIDER_JRPC_METHODS, PROVIDER_NOTIFICATIONS, SETUP_COMPLETE };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,kCAAkC;IACtC,QAAQ;IACR,OAAO;AACT;AACA,MAAM,iCAAiC;IACrC,QAAQ;IACR,OAAO;AACT;AACA,MAAM,gCAAgC;IACpC,QAAQ;IACR,OAAO;AACT;AACA,MAAM,0BAA0B;IAC9B,QAAQ;IACR,OAAO;AACT;AACA,MAAM,eAAe;AACrB,MAAM,eAAe;AACrB,MAAM,iBAAiB;AACvB,MAAM,sBAAsB;AAC5B,MAAM,uBAAuB;AAC7B,MAAM,uBAAuB;AAC7B,MAAM,0BAA0B;AAChC,MAAM,wBAAwB;AAC9B,MAAM,mCAAmC;AACzC,MAAM,mCAAmC;AACzC,MAAM,mCAAmC;AACzC,MAAM,mCAAmC;AACzC,MAAM,mCAAmC;AACzC,MAAM,sBAAsB;AAC5B,MAAM,2BAA2B;AACjC,MAAM,4BAA4B;AAClC,MAAM,4BAA4B;AAClC,MAAM,6BAA6B;AACnC,MAAM,+BAA+B;AACrC,MAAM,0BAA0B;AAChC,MAAM,4BAA4B;AAClC,MAAM,6BAA6B;AACnC,MAAM,8BAA8B;IAClC,eAAe;IACf,iCAAiC;IACjC,cAAc;IACd,gBAAgB;IAChB,iBAAiB;IACjB,kDAAkD;IAClD,sBAAsB;IACtB,uCAAuC;IACvC,sBAAsB;AACxB;AACA,MAAM,6BAA6B;IACjC,QAAQ;IACR,oBAAoB;IACpB,WAAW;IACX,cAAc;IACd,OAAO;IACP,eAAe;IACf,+CAA+C;IAC/C,eAAe;IACf,gBAAgB;IAChB,oBAAoB;IACpB,wBAAwB;IACxB,qBAAqB;IACrB,cAAc;IACd,eAAe;IACf,cAAc;IACd,gBAAgB;IAChB,WAAW;IACX,uBAAuB;AACzB;AACA,MAAM,wBAAwB;IAC5B,oBAAoB;IACpB,qBAAqB;AACvB;AACA,MAAM,yBAAyB;IAC7B,kBAAkB;IAClB,eAAe;IACf,sBAAsB;AACxB;AACA,MAAM,qBAAqB;IACzB,kBAAkB;IAClB,yBAAyB;IACzB,qBAAqB;IACrB,iBAAiB;IACjB,uBAAuB;IACvB,iCAAiC;IACjC,+BAA+B;IAC/B,+BAA+B;IAC/B,cAAc;IACd,gBAAgB;AAClB;AACA,MAAM,0BAA0B;IAC9B,QAAQ;IACR,kBAAkB;IAClB,yBAAyB;IACzB,gBAAgB;IAChB,WAAW;AACb;AACA,IAAI,mBAAmB,WAAW,GAAE,SAAU,gBAAgB;IAC5D,gBAAgB,CAAC,mBAAmB,GAAG;IACvC,OAAO;AACT,EAAE,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Embed/CommunicationMethodMiddleware.js"],"sourcesContent":["import { createAsyncMiddleware, mergeMiddleware, createScaffoldMiddleware } from '@web3auth/auth';\nimport { COMMUNICATION_JRPC_METHODS } from '../enums.js';\n\nfunction createChangeProviderMiddlewareMiddleware({\n  changeProvider\n}) {\n  return createAsyncMiddleware(async (request, response, next) => {\n    const {\n      method\n    } = request;\n    if (method !== COMMUNICATION_JRPC_METHODS.SET_PROVIDER) return next();\n    if (!changeProvider) throw new Error(\"CommunicationMiddleware - opts.changeProvider not provided\");\n    response.result = await changeProvider(request);\n  });\n}\nfunction createTopupMiddleware({\n  topup\n}) {\n  return createAsyncMiddleware(async (request, response, next) => {\n    const {\n      method\n    } = request;\n    if (method !== COMMUNICATION_JRPC_METHODS.TOPUP) return next();\n    if (!topup) throw new Error(\"CommunicationMiddleware - opts.topup not provided\");\n    response.result = await topup(request);\n  });\n}\nfunction createGenericJRPCMiddleware(targetMethod, handler) {\n  return createAsyncMiddleware(async (request, response, next) => {\n    const {\n      method\n    } = request;\n    if (method !== targetMethod) return next();\n    if (!handler) throw new Error(`CommunicationMiddleware - ${targetMethod} not provided`);\n    const result = await handler(request);\n    if (!result) {\n      return next();\n    }\n    response.result = result;\n    return undefined;\n  });\n}\nfunction createCommunicationMiddleware(providerHandlers) {\n  const {\n    getUserInfo,\n    getWalletInstanceId,\n    topup,\n    logout,\n    changeProvider,\n    setIFrameStatus,\n    handleWindowRpc,\n    getProviderState,\n    loginWithPrivateKey,\n    showWalletConnect,\n    showFunding,\n    showCheckout,\n    showReceive,\n    showWalletUi,\n    showSwap,\n    showWindowBlockAlert,\n    loginWithSessionId\n  } = providerHandlers;\n  return mergeMiddleware([createChangeProviderMiddlewareMiddleware({\n    changeProvider\n  }), createTopupMiddleware({\n    topup\n  }), createScaffoldMiddleware({\n    [COMMUNICATION_JRPC_METHODS.LOGOUT]: logout,\n    [COMMUNICATION_JRPC_METHODS.WALLET_INSTANCE_ID]: getWalletInstanceId,\n    [COMMUNICATION_JRPC_METHODS.USER_INFO]: getUserInfo,\n    [COMMUNICATION_JRPC_METHODS.IFRAME_STATUS]: setIFrameStatus,\n    // Do this in the orchestrator because communicationWindowManager needs to be passed into PopupHandlers\n    [COMMUNICATION_JRPC_METHODS.CLOSED_WINDOW]: handleWindowRpc,\n    [COMMUNICATION_JRPC_METHODS.GET_PROVIDER_STATE]: getProviderState,\n    [COMMUNICATION_JRPC_METHODS.SHOW_WALLET_CONNECT]: showWalletConnect,\n    [COMMUNICATION_JRPC_METHODS.SHOW_FUNDING]: showFunding,\n    [COMMUNICATION_JRPC_METHODS.SHOW_CHECKOUT]: showCheckout,\n    [COMMUNICATION_JRPC_METHODS.SHOW_RECEIVE]: showReceive,\n    [COMMUNICATION_JRPC_METHODS.SHOW_WALLET_UI]: showWalletUi,\n    [COMMUNICATION_JRPC_METHODS.SHOW_SWAP]: showSwap,\n    [COMMUNICATION_JRPC_METHODS.WINDOW_BLOCKED]: showWindowBlockAlert\n  }), createGenericJRPCMiddleware(COMMUNICATION_JRPC_METHODS.LOGIN_WITH_PRIVATE_KEY, loginWithPrivateKey), createGenericJRPCMiddleware(COMMUNICATION_JRPC_METHODS.LOGIN_WITH_SESSION_ID, loginWithSessionId)]);\n}\n\nexport { createChangeProviderMiddlewareMiddleware, createCommunicationMiddleware, createGenericJRPCMiddleware, createTopupMiddleware };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Network/createInflightCacheMiddleware.js"],"sourcesContent":["import { createAsyncMiddleware } from '@web3auth/auth';\nimport log from 'loglevel';\nimport { cloneDeep } from '../utils/lodashUtils.js';\n\nfunction deferredPromise() {\n  let resolve;\n  const promise = new Promise(_resolve => {\n    resolve = _resolve;\n  });\n  return {\n    resolve,\n    promise\n  };\n}\nfunction createInflightCacheMiddleware({\n  cacheIdentifierForRequest\n}) {\n  const inflightRequests = {};\n  async function createActiveRequestHandler(res, activeRequestHandlers) {\n    const {\n      resolve,\n      promise\n    } = deferredPromise();\n    activeRequestHandlers.push(handledRes => {\n      // append a copy of the result and error to the response\n      res.result = cloneDeep(handledRes.result);\n      res.error = cloneDeep(handledRes.error);\n      resolve();\n    });\n    return promise;\n  }\n  function handleActiveRequest(res, activeRequestHandlers) {\n    // use setTimeout so we can resolve our original request first\n    setTimeout(() => {\n      activeRequestHandlers.forEach(handler => {\n        try {\n          handler(res);\n        } catch (err) {\n          // catch error so all requests are handled correctly\n          log.error(err);\n        }\n      });\n    });\n  }\n  return createAsyncMiddleware(async (req, res, next) => {\n    // allow cach to be skipped if so specified\n    if (req.skipCache) {\n      return next();\n    }\n    // get cacheId, if cacheable\n    const cacheId = cacheIdentifierForRequest(req);\n    // if not cacheable, skip\n    if (!cacheId) {\n      log.info(\"Request is not cacheable, proceeding. req = %o\", req);\n      return next();\n    }\n    // check for matching requests\n    let activeRequestHandlers = inflightRequests[cacheId];\n    // if found, wait for the active request to be handled\n    if (activeRequestHandlers) {\n      // setup the response listener and wait for it to be called\n      // it will handle copying the result and request fields\n      log.info(\"Running %i handler(s) for request %o\", activeRequestHandlers.length, req);\n      await createActiveRequestHandler(res, activeRequestHandlers);\n      return undefined;\n    }\n    // setup response handler array for subsequent requests\n    activeRequestHandlers = [];\n    inflightRequests[cacheId] = activeRequestHandlers;\n    // allow request to be handled normally\n    log.info(\"Carrying original request forward %o\", req);\n    await next();\n    // clear inflight requests\n    delete inflightRequests[cacheId];\n    // schedule activeRequestHandlers to be handled\n    log.info(\"Running %i collected handler(s) for request %o\", activeRequestHandlers.length, req);\n    handleActiveRequest(res, activeRequestHandlers);\n    // complete\n    return undefined;\n  });\n}\n\nexport { createInflightCacheMiddleware };\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,SAAS;IACP,IAAI;IACJ,MAAM,UAAU,IAAI,QAAQ,CAAA;QAC1B,UAAU;IACZ;IACA,OAAO;QACL;QACA;IACF;AACF;AACA,SAAS,8BAA8B,KAEtC;QAFsC,EACrC,yBAAyB,EAC1B,GAFsC;IAGrC,MAAM,mBAAmB,CAAC;IAC1B,eAAe,2BAA2B,GAAG,EAAE,qBAAqB;QAClE,MAAM,EACJ,OAAO,EACP,OAAO,EACR,GAAG;QACJ,sBAAsB,IAAI,CAAC,CAAA;YACzB,wDAAwD;YACxD,IAAI,MAAM,GAAG,CAAA,GAAA,uYAAA,CAAA,YAAS,AAAD,EAAE,WAAW,MAAM;YACxC,IAAI,KAAK,GAAG,CAAA,GAAA,uYAAA,CAAA,YAAS,AAAD,EAAE,WAAW,KAAK;YACtC;QACF;QACA,OAAO;IACT;IACA,SAAS,oBAAoB,GAAG,EAAE,qBAAqB;QACrD,8DAA8D;QAC9D,WAAW;YACT,sBAAsB,OAAO,CAAC,CAAA;gBAC5B,IAAI;oBACF,QAAQ;gBACV,EAAE,OAAO,KAAK;oBACZ,oDAAoD;oBACpD,mMAAA,CAAA,UAAG,CAAC,KAAK,CAAC;gBACZ;YACF;QACF;IACF;IACA,OAAO,CAAA,GAAA,uYAAA,CAAA,wBAAqB,AAAD,EAAE,OAAO,KAAK,KAAK;QAC5C,2CAA2C;QAC3C,IAAI,IAAI,SAAS,EAAE;YACjB,OAAO;QACT;QACA,4BAA4B;QAC5B,MAAM,UAAU,0BAA0B;QAC1C,yBAAyB;QACzB,IAAI,CAAC,SAAS;YACZ,mMAAA,CAAA,UAAG,CAAC,IAAI,CAAC,kDAAkD;YAC3D,OAAO;QACT;QACA,8BAA8B;QAC9B,IAAI,wBAAwB,gBAAgB,CAAC,QAAQ;QACrD,sDAAsD;QACtD,IAAI,uBAAuB;YACzB,2DAA2D;YAC3D,uDAAuD;YACvD,mMAAA,CAAA,UAAG,CAAC,IAAI,CAAC,wCAAwC,sBAAsB,MAAM,EAAE;YAC/E,MAAM,2BAA2B,KAAK;YACtC,OAAO;QACT;QACA,uDAAuD;QACvD,wBAAwB,EAAE;QAC1B,gBAAgB,CAAC,QAAQ,GAAG;QAC5B,uCAAuC;QACvC,mMAAA,CAAA,UAAG,CAAC,IAAI,CAAC,wCAAwC;QACjD,MAAM;QACN,0BAA0B;QAC1B,OAAO,gBAAgB,CAAC,QAAQ;QAChC,+CAA+C;QAC/C,mMAAA,CAAA,UAAG,CAAC,IAAI,CAAC,kDAAkD,sBAAsB,MAAM,EAAE;QACzF,oBAAoB,KAAK;QACzB,WAAW;QACX,OAAO;IACT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Network/createAnalyticsMiddleware.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport { ANALYTICS_TRACKED_INTERNAL_JPRC_METHODS, ANALYTICS_EVENTS, ANALYTICS_JRPC_REQUEST_TYPES } from './constants.js';\nimport { getHostname, getCaipChainId, getErrorAnalyticsProperties } from '../utils/utils.js';\n\nfunction createAnalyticsMiddleware({\n  analytics,\n  providerConfig\n}) {\n  return (request, response, next) => {\n    // skip if the request method is not in the ANALYTICS_TRACKED_JPRC_METHODS\n    if (!Object.values(ANALYTICS_TRACKED_INTERNAL_JPRC_METHODS).includes(request.method)) {\n      return next();\n    }\n    const startTime = Date.now();\n    next(callback => {\n      const trackData = {\n        method: request.method,\n        chain_id: getCaipChainId(providerConfig),\n        chain_rpc_target: getHostname(providerConfig.rpcTarget),\n        is_aa_provider_request: request.isAAProviderRequest\n      };\n      if (response.error) {\n        analytics === null || analytics === void 0 || analytics.track(ANALYTICS_EVENTS.JRPC_REQUEST_FAILED, _objectSpread(_objectSpread(_objectSpread({\n          request_type: ANALYTICS_JRPC_REQUEST_TYPES.INTERNAL\n        }, trackData), getErrorAnalyticsProperties(response.error)), {}, {\n          duration: Date.now() - startTime\n        }));\n      } else {\n        analytics === null || analytics === void 0 || analytics.track(ANALYTICS_EVENTS.JRPC_REQUEST_COMPLETED, _objectSpread(_objectSpread({\n          request_type: ANALYTICS_JRPC_REQUEST_TYPES.INTERNAL\n        }, trackData), {}, {\n          duration: Date.now() - startTime\n        }));\n      }\n      callback();\n    });\n  };\n}\n\nexport { createAnalyticsMiddleware };\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,SAAS,0BAA0B,KAGlC;QAHkC,EACjC,SAAS,EACT,cAAc,EACf,GAHkC;IAIjC,OAAO,CAAC,SAAS,UAAU;QACzB,0EAA0E;QAC1E,IAAI,CAAC,OAAO,MAAM,CAAC,uYAAA,CAAA,0CAAuC,EAAE,QAAQ,CAAC,QAAQ,MAAM,GAAG;YACpF,OAAO;QACT;QACA,MAAM,YAAY,KAAK,GAAG;QAC1B,KAAK,CAAA;YACH,MAAM,YAAY;gBAChB,QAAQ,QAAQ,MAAM;gBACtB,UAAU,CAAA,GAAA,iYAAA,CAAA,iBAAc,AAAD,EAAE;gBACzB,kBAAkB,CAAA,GAAA,iYAAA,CAAA,cAAW,AAAD,EAAE,eAAe,SAAS;gBACtD,wBAAwB,QAAQ,mBAAmB;YACrD;YACA,IAAI,SAAS,KAAK,EAAE;gBAClB,cAAc,QAAQ,cAAc,KAAK,KAAK,UAAU,KAAK,CAAC,uYAAA,CAAA,mBAAgB,CAAC,mBAAmB,EAAE,CAAA,GAAA,wOAAA,CAAA,UAAa,AAAD,EAAE,CAAA,GAAA,wOAAA,CAAA,UAAa,AAAD,EAAE,CAAA,GAAA,wOAAA,CAAA,UAAa,AAAD,EAAE;oBAC5I,cAAc,uYAAA,CAAA,+BAA4B,CAAC,QAAQ;gBACrD,GAAG,YAAY,CAAA,GAAA,iYAAA,CAAA,8BAA2B,AAAD,EAAE,SAAS,KAAK,IAAI,CAAC,GAAG;oBAC/D,UAAU,KAAK,GAAG,KAAK;gBACzB;YACF,OAAO;gBACL,cAAc,QAAQ,cAAc,KAAK,KAAK,UAAU,KAAK,CAAC,uYAAA,CAAA,mBAAgB,CAAC,sBAAsB,EAAE,CAAA,GAAA,wOAAA,CAAA,UAAa,AAAD,EAAE,CAAA,GAAA,wOAAA,CAAA,UAAa,AAAD,EAAE;oBACjI,cAAc,uYAAA,CAAA,+BAA4B,CAAC,QAAQ;gBACrD,GAAG,YAAY,CAAC,GAAG;oBACjB,UAAU,KAAK,GAAG,KAAK;gBACzB;YACF;YACA;QACF;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 871, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/createSwappableProxy.js"],"sourcesContent":["function createSwappableProxy(initialTarget) {\n  let target = initialTarget;\n  let setTarget = newTarget => {\n    target = newTarget;\n  };\n  const proxy = new Proxy({}, {\n    get: (_, name) => {\n      // override `setTarget` access\n      if (name === \"setTarget\") return setTarget;\n      return target[name];\n    },\n    set: (_, name, value) => {\n      // allow `setTarget` overrides\n      if (name === \"setTarget\") {\n        setTarget = value;\n        return true;\n      }\n      target[name] = value;\n      return true;\n    },\n    has: (_, key) => {\n      if (key[0] === \"_\") {\n        return false;\n      }\n      return key in target;\n    }\n  });\n  return proxy;\n}\n\nexport { createSwappableProxy };\n"],"names":[],"mappings":";;;AAAA,SAAS,qBAAqB,aAAa;IACzC,IAAI,SAAS;IACb,IAAI,YAAY,CAAA;QACd,SAAS;IACX;IACA,MAAM,QAAQ,IAAI,MAAM,CAAC,GAAG;QAC1B,KAAK,CAAC,GAAG;YACP,8BAA8B;YAC9B,IAAI,SAAS,aAAa,OAAO;YACjC,OAAO,MAAM,CAAC,KAAK;QACrB;QACA,KAAK,CAAC,GAAG,MAAM;YACb,8BAA8B;YAC9B,IAAI,SAAS,aAAa;gBACxB,YAAY;gBACZ,OAAO;YACT;YACA,MAAM,CAAC,KAAK,GAAG;YACf,OAAO;QACT;QACA,KAAK,CAAC,GAAG;YACP,IAAI,GAAG,CAAC,EAAE,KAAK,KAAK;gBAClB,OAAO;YACT;YACA,OAAO,OAAO;QAChB;IACF;IACA,OAAO;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/WSApiClient.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport { get, post, put, patch, remove } from '@toruslabs/http-helpers';\nimport { jwtDecode } from 'jwt-decode';\nimport { ControllerEvents } from './enums.js';\nimport { isUnauthorizedError } from './utils/utils.js';\n\nvar HTTP_METHOD = /*#__PURE__*/function (HTTP_METHOD) {\n  HTTP_METHOD[HTTP_METHOD[\"GET\"] = 0] = \"GET\";\n  HTTP_METHOD[HTTP_METHOD[\"POST\"] = 1] = \"POST\";\n  HTTP_METHOD[HTTP_METHOD[\"PUT\"] = 2] = \"PUT\";\n  HTTP_METHOD[HTTP_METHOD[\"PATCH\"] = 3] = \"PATCH\";\n  HTTP_METHOD[HTTP_METHOD[\"DELETE\"] = 4] = \"DELETE\";\n  return HTTP_METHOD;\n}(HTTP_METHOD || {});\nconst constructAuthHeaders = ({\n  jwtToken,\n  publicAddress,\n  eoaAddress,\n  chainNamespace\n}) => {\n  const headers = {\n    Authorization: `Bearer ${jwtToken}`,\n    \"public-address\": publicAddress,\n    \"chain-namespace\": chainNamespace\n  };\n  if (eoaAddress) {\n    headers[\"eoa-address\"] = eoaAddress;\n  }\n  return {\n    headers\n  };\n};\nconst withUnauthorizedHandler = async (fn, emitter) => {\n  try {\n    const response = await fn();\n    return response;\n  } catch (e) {\n    if (isUnauthorizedError(e)) {\n      emitter.emit(ControllerEvents.UserUnauthorized);\n    }\n    throw e;\n  }\n};\nconst jwtTokenExpired = jwt => {\n  const decoded = jwtDecode(jwt);\n  const jwtExpiry = decoded.exp * 1000;\n  const currentTime = new Date().getTime();\n  return currentTime >= jwtExpiry;\n};\nconst WSApiClient = (baseApiUrl, emitter) => {\n  const authRequest = (method, url, data, authCredentials, customOptions) => {\n    if (jwtTokenExpired(authCredentials.jwtToken)) {\n      emitter.emit(ControllerEvents.UserUnauthorized);\n      throw new Response(null, {\n        status: 401,\n        statusText: \"Unauthorized\"\n      });\n    }\n    const headers = _objectSpread({\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }, constructAuthHeaders(authCredentials));\n    if (method === HTTP_METHOD.GET) {\n      return withUnauthorizedHandler(() => get(url, headers, customOptions), emitter);\n    }\n    if (method === HTTP_METHOD.POST) {\n      return withUnauthorizedHandler(() => post(url, data, headers, customOptions), emitter);\n    }\n    if (method === HTTP_METHOD.PUT) {\n      return withUnauthorizedHandler(() => put(url, data, headers, customOptions), emitter);\n    }\n    if (method === HTTP_METHOD.PATCH) {\n      return withUnauthorizedHandler(() => patch(url, data, headers, customOptions), emitter);\n    }\n    if (method === HTTP_METHOD.DELETE) {\n      return withUnauthorizedHandler(() => remove(url, data, headers, customOptions), emitter);\n    }\n  };\n  return {\n    authGet: (url, authCredentials, customOptions) => authRequest(HTTP_METHOD.GET, `${baseApiUrl}/${url}`, {}, authCredentials, customOptions),\n    authPost: (url, data, authCredentials, customOptions) => authRequest(HTTP_METHOD.POST, `${baseApiUrl}/${url}`, data, authCredentials, customOptions),\n    authPut: (url, data, authCredentials, customOptions) => authRequest(HTTP_METHOD.PUT, `${baseApiUrl}/${url}`, data, authCredentials, customOptions),\n    authPatch: (url, data, authCredentials, customOptions) => authRequest(HTTP_METHOD.PATCH, `${baseApiUrl}/${url}`, data, authCredentials, customOptions),\n    authRemove: (url, data, authCredentials, customOptions) => authRequest(HTTP_METHOD.DELETE, `${baseApiUrl}/${url}`, data, authCredentials, customOptions)\n  };\n};\n\nexport { WSApiClient, constructAuthHeaders };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1002, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Preferences/IPreferencesController.js"],"sourcesContent":["const ACTIVITY_ACTION = {\n  ACTIVITY_ACTION_ALL: \"walletActivity.allTransactions\",\n  ACTIVITY_ACTION_SEND: \"walletActivity.send\",\n  ACTIVITY_ACTION_RECEIVE: \"walletActivity.receive\",\n  ACTIVITY_ACTION_TOPUP: \"walletActivity.topup\"\n};\nconst ACCOUNT_CATEGORY = {\n  NORMAL: \"normal\",\n  THRESHOLD: \"threshold\",\n  IMPORTED: \"imported\",\n  // we have private key here\n  APP_SCOPED: \"app_scoped\",\n  ACCOUNT_ABSTRACTION: \"account_abstraction\",\n  EXTERNAL: \"external\",\n  // like metamask, wallet connect\n  MPC: \"mpc\",\n  SFA: \"sfa\",\n  SFA_ACCOUNT_ABSTRACTION: \"sfa_account_abstraction\",\n  APP_SCOPED_DERIVED: \"app_scoped_derived\"\n};\n\n/**\n * Preferences controller state\n */\n\n/**\n * @param address - address of the user\n * @param jwtToken - if jwt token already exists, it will be used instead of fetching from backend\n * @param calledFromEmbed - if called from embed\n * @param userInfo - optional user info\n * @param rehydrate - Rehydrate the preferences from the local storage\n */\n\nexport { ACCOUNT_CATEGORY, ACTIVITY_ACTION };\n"],"names":[],"mappings":";;;;AAAA,MAAM,kBAAkB;IACtB,qBAAqB;IACrB,sBAAsB;IACtB,yBAAyB;IACzB,uBAAuB;AACzB;AACA,MAAM,mBAAmB;IACvB,QAAQ;IACR,WAAW;IACX,UAAU;IACV,2BAA2B;IAC3B,YAAY;IACZ,qBAAqB;IACrB,UAAU;IACV,gCAAgC;IAChC,KAAK;IACL,KAAK;IACL,yBAAyB;IACzB,oBAAoB;AACtB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1031, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Preferences/BasePreferencesController.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { post } from '@toruslabs/http-helpers';\nimport { AUTH_CONNECTION } from '@web3auth/auth';\nimport bowser from 'bowser';\nimport log from 'loglevel';\nimport { BaseController } from '../BaseController.js';\nimport { cloneDeep } from '../utils/lodashUtils.js';\nimport { WSApiClient } from '../WSApiClient.js';\nimport { ACCOUNT_CATEGORY } from './IPreferencesController.js';\nimport { getCustomDeviceInfo, getHeaders } from '../utils/utils.js';\n\n// By default, poll every 3 minutes\nconst DEFAULT_INTERVAL = 180 * 1000;\nconst DEFAULT_PREFERENCES = {\n  selectedCurrency: \"USD\",\n  theme: \"dark\",\n  locale: \"en\",\n  accountType: ACCOUNT_CATEGORY.NORMAL,\n  contacts: [],\n  jwtToken: \"\",\n  fetchedPastTx: [],\n  pastTransactions: [],\n  paymentTx: [],\n  defaultPublicAddress: \"\",\n  customTokens: [],\n  customNfts: [],\n  crashReport: true,\n  userInfo: {\n    email: \"\",\n    name: \"\",\n    profileImage: \"\",\n    authConnectionId: \"\",\n    userId: \"\",\n    authConnection: AUTH_CONNECTION.GOOGLE,\n    groupedAuthConnectionId: \"\"\n  }\n};\n\n/**\n * Controller that stores shared settings and exposes convenience methods\n */\nclass BasePreferencesController extends BaseController {\n  /**\n   * Creates a PreferencesController instance\n   *\n   * @param config - Initial options used to configure this controller\n   * @param state - Initial state to set on this controller\n   */\n  constructor({\n    config,\n    state,\n    defaultPreferences,\n    signAuthMessage,\n    validateSignMessage\n  }) {\n    super({\n      config,\n      state\n    });\n    /**\n     * Name of this controller used during composition\n     */\n    _defineProperty(this, \"name\", \"PreferencesController\");\n    _defineProperty(this, \"iframeOrigin\", void 0);\n    _defineProperty(this, \"wsApiClient\", void 0);\n    _defineProperty(this, \"chainNamespace\", void 0);\n    _defineProperty(this, \"signAuthMessage\", void 0);\n    _defineProperty(this, \"validateSignMessage\", void 0);\n    _defineProperty(this, \"defaultPreferences\", void 0);\n    if (!config.api) {\n      throw new Error(\"PreferencesController - no api specified in config.\");\n    }\n    this.defaultState = {\n      identities: {},\n      selectedAddress: \"\",\n      lastErrorMessage: \"\",\n      lastSuccessMessage: \"\"\n    };\n    this.defaultConfig = {\n      api: config.api,\n      pollInterval: DEFAULT_INTERVAL\n    };\n    this.initialize();\n    this.defaultPreferences = _objectSpread(_objectSpread({}, DEFAULT_PREFERENCES), defaultPreferences);\n    this.signAuthMessage = signAuthMessage;\n    this.validateSignMessage = validateSignMessage;\n    this.wsApiClient = WSApiClient(this.config.api, this);\n  }\n  setIframeOrigin(origin) {\n    this.iframeOrigin = origin;\n  }\n  getAddressState(address) {\n    const selectedAddress = address || this.state.selectedAddress;\n    return this.state.identities[selectedAddress];\n  }\n\n  /**\n   * Sets selected address\n   *\n   * @param selectedAddress - casper account hash\n   */\n  setSelectedAddress(selectedAddress) {\n    this.update({\n      selectedAddress\n    });\n  }\n  async getUser(address) {\n    const user = await this.wsApiClient.authGet(\"user?fetchTx=false\", this.authCredentials(address), {\n      useAPIKey: true\n    });\n    return user.data;\n  }\n  async createUser(params) {\n    const {\n      selectedCurrency,\n      theme,\n      authConnectionId,\n      groupedAuthConnectionId,\n      userId,\n      locale,\n      address,\n      idToken,\n      type,\n      web3AuthNetwork,\n      metadata\n    } = params;\n    const userPayload = _objectSpread({\n      default_currency: selectedCurrency,\n      theme,\n      verifier: groupedAuthConnectionId || authConnectionId,\n      verifier_id: userId,\n      locale,\n      idToken,\n      account_type: type,\n      web3auth_network: web3AuthNetwork\n    }, metadata);\n    await this.wsApiClient.authPost(\"user\", userPayload, this.authCredentials(address), {\n      useAPIKey: true\n    });\n    this.updateState({\n      theme,\n      defaultPublicAddress: address,\n      selectedCurrency,\n      locale,\n      accountType: type\n    }, address);\n  }\n  async storeUserLogin(params) {\n    const {\n      authConnectionId,\n      groupedAuthConnectionId,\n      userId,\n      options,\n      address,\n      idToken,\n      web3AuthClientId,\n      web3AuthNetwork,\n      sessionPubKey,\n      loginMode\n    } = params;\n    if (!options.rehydrate) {\n      const browser = bowser.getParser(window.navigator.userAgent);\n      const specialBrowser = getCustomDeviceInfo();\n      const recordLoginPayload = {\n        os: browser.getOSName(),\n        os_version: browser.getOSVersion() || \"unidentified\",\n        browser: (specialBrowser === null || specialBrowser === void 0 ? void 0 : specialBrowser.browser) || browser.getBrowserName() || \"unidentified\",\n        browser_version: browser.getBrowserVersion() || \"unidentified\",\n        platform: browser.getPlatform().type || \"desktop\",\n        hostname: this.iframeOrigin,\n        verifier: groupedAuthConnectionId || authConnectionId,\n        verifier_id: userId,\n        idToken,\n        web3auth_client_id: web3AuthClientId,\n        web3auth_network: web3AuthNetwork,\n        session_pub_key: sessionPubKey,\n        login_mode: loginMode\n      };\n      await this.wsApiClient.authPost(\"user/recordLogin\", recordLoginPayload, this.authCredentials(address), {\n        useAPIKey: true\n      });\n    }\n  }\n  async setCrashReport(isEnabled) {\n    var _this$getAddressState;\n    if (isEnabled === ((_this$getAddressState = this.getAddressState()) === null || _this$getAddressState === void 0 ? void 0 : _this$getAddressState.crashReport)) return true;\n    try {\n      await this.wsApiClient.authPatch(\"user\", {\n        enable_crash_reporter: isEnabled\n      }, this.authCredentials(), {\n        useAPIKey: true\n      });\n      this.updateState({\n        crashReport: isEnabled\n      });\n      return true;\n    } catch (error) {\n      log.error(error);\n      return false;\n    }\n  }\n  async setUserTheme(theme) {\n    var _this$getAddressState2;\n    if (theme === ((_this$getAddressState2 = this.getAddressState()) === null || _this$getAddressState2 === void 0 ? void 0 : _this$getAddressState2.theme)) return true;\n    try {\n      await this.wsApiClient.authPatch(\"user\", {\n        theme\n      }, this.authCredentials(), {\n        useAPIKey: true\n      });\n      this.updateState({\n        theme\n      });\n      return true;\n    } catch (error) {\n      log.error(error);\n      return false;\n    }\n  }\n  async setUserLocale(locale) {\n    var _this$getAddressState3;\n    if (locale === ((_this$getAddressState3 = this.getAddressState()) === null || _this$getAddressState3 === void 0 ? void 0 : _this$getAddressState3.locale)) return;\n    try {\n      await this.wsApiClient.authPatch(\"user\", {\n        locale\n      }, this.authCredentials(), {\n        useAPIKey: true\n      });\n      this.updateState({\n        locale\n      });\n      return true;\n    } catch (error) {\n      log.error(\"unable to set locale\", error);\n      return false;\n    }\n  }\n  async setSelectedCurrency(payload) {\n    var _this$getAddressState4;\n    if (payload.selectedCurrency === ((_this$getAddressState4 = this.getAddressState()) === null || _this$getAddressState4 === void 0 ? void 0 : _this$getAddressState4.selectedCurrency)) return true;\n    try {\n      await this.wsApiClient.authPatch(\"user\", {\n        default_currency: payload.selectedCurrency\n      }, this.authCredentials(), {\n        useAPIKey: true\n      });\n      this.updateState({\n        selectedCurrency: payload.selectedCurrency\n      });\n      return true;\n    } catch (error) {\n      log.error(error);\n      return false;\n    }\n  }\n  async addContact(contact) {\n    try {\n      var _this$getAddressState5;\n      const response = await this.wsApiClient.authPost(\"contact\", contact, this.authCredentials(), {\n        useAPIKey: true\n      });\n      this.updateState({\n        contacts: [...(((_this$getAddressState5 = this.getAddressState()) === null || _this$getAddressState5 === void 0 ? void 0 : _this$getAddressState5.contacts) || []), response.data]\n      });\n      return true;\n    } catch (error) {\n      log.error(\"unable to add contact\", error);\n      return false;\n    }\n  }\n  async deleteContact(contactId) {\n    try {\n      var _this$getAddressState6;\n      const response = await this.wsApiClient.authRemove(`contact/${contactId}`, {}, this.authCredentials(), {\n        useAPIKey: true\n      });\n      const finalContacts = (_this$getAddressState6 = this.getAddressState()) === null || _this$getAddressState6 === void 0 ? void 0 : _this$getAddressState6.contacts.filter(contact => contact.id !== response.data.id);\n      if (finalContacts) this.updateState({\n        contacts: [...finalContacts]\n      });\n      return true;\n    } catch (error) {\n      log.error(\"unable to delete contact\", error);\n      return false;\n    }\n  }\n  async revokeDiscord(idToken) {\n    try {\n      const resp = await this.wsApiClient.authPost(\"revoke/discord\", {\n        token: idToken\n      }, this.authCredentials(), {\n        useAPIKey: true\n      });\n      log.info(resp);\n    } catch (error) {\n      log.error(error);\n    }\n  }\n  async patchPastTx(body, address) {\n    try {\n      const response = await this.wsApiClient.authPatch(\"transaction\", body, this.authCredentials(address), {\n        useAPIKey: true\n      });\n      log.info(\"successfully patched\", response);\n    } catch (error) {\n      log.error(\"unable to patch tx\", error);\n    }\n  }\n  async postPastTx(tx, address) {\n    try {\n      const response = await this.wsApiClient.authPost(\"transaction\", tx, this.authCredentials(address), {\n        useAPIKey: true\n      });\n      log.info(\"successfully posted tx\", response);\n      return response;\n    } catch (error) {\n      log.error(error, \"unable to insert transaction\");\n    }\n  }\n  async getWalletOrders(address) {\n    try {\n      const response = await this.wsApiClient.authGet(\"transaction\", this.authCredentials(address), {\n        useAPIKey: true\n      });\n      return response.success ? response.data ? response.data : [] : [];\n    } catch (error) {\n      log.error(\"unable to get wallet orders tx\", error);\n      return [];\n    }\n  }\n  async getTopUpOrders(address) {\n    try {\n      const response = await this.wsApiClient.authGet(\"transaction\", this.authCredentials(address), {\n        useAPIKey: true\n      });\n      return response.data || [];\n    } catch (error) {\n      log.error(\"unable to fetch past Top up orders\", error);\n    }\n  }\n  async getBillBoardData() {\n    try {\n      const response = await this.wsApiClient.authGet(\"billboard\", this.authCredentials(), {\n        useAPIKey: true\n      });\n      return response.success ? response.data : [];\n    } catch (error) {\n      log.error(\"unable to get billboard data\", error);\n      return [];\n    }\n  }\n  async getMessageForSigning(publicAddress, web3AuthIdToken) {\n    const response = await post(`${this.config.api}/auth/message`, {\n      public_address: publicAddress,\n      id_token: web3AuthIdToken,\n      chain_namespace: this.chainNamespace\n    }, {}, {\n      useAPIKey: true\n    });\n    return response.message;\n  }\n  async getTwitterId(payload) {\n    const res = await this.wsApiClient.authGet(`twitter?screen_name=${payload.nick}`, this.authCredentials(), {\n      useAPIKey: true\n    });\n    return `${payload.typeOfLogin.toLowerCase()}|${res.data.toString()}`;\n  }\n  async sendEmail(payload) {\n    return this.wsApiClient.authPost(\"transaction/sendemail\", payload.emailObject, this.authCredentials(), {\n      useAPIKey: true\n    });\n  }\n  async refreshJwt() {\n    const address = this.state.selectedAddress;\n    const messageToSign = await this.getMessageForSigning(address);\n    await this.validateSignMessage(messageToSign);\n    const signedMessage = await this.signAuthMessage(address, messageToSign);\n    const response = await post(`${this.config.api}/auth/verify`, {\n      challenge: messageToSign,\n      public_address: address,\n      signed_message: signedMessage,\n      chain_namespace: this.chainNamespace\n    }, {}, {\n      useAPIKey: true\n    });\n    this.updateState({\n      jwtToken: response.token\n    }, address);\n  }\n  async getDappList() {\n    try {\n      const response = await this.wsApiClient.authGet(\"dapps\", this.authCredentials(), {\n        useAPIKey: true\n      });\n      return response.success ? response.data : [];\n    } catch (error) {\n      log.error(\"unable to get dapps list\", error);\n      return [];\n    }\n  }\n\n  /**\n   * Strategy\n   * For account type: threshold, normal (web3auth login)\n   * idToken from web3auth login must be present. We use it directly\n   *\n   * For account type: app_scoped, IMPORTED\n   * idToken from web3auth login must be present. We request a message for signing using the idToken\n   * and sign it using the private key of the account. We then send the signed message to the backend\n   * to verify the signature and return a new jwtToken that includes the app_scoped address\n   *\n   * For account type: Account abstraction\n   * idToken from web3auth login must be present. We use it to exchange for a new jwtToken.\n   * Because backend can derive AA address from public address and issue this token easily.\n   *\n   * For account type: external\n   * idToken from web3auth `authenticateUser` (siww) login must be present. We use it directly\n   */\n  async init(params) {\n    const {\n      address,\n      userInfo,\n      idToken,\n      metadata = {},\n      type\n    } = params;\n    if (this.getAddressState(address)) return;\n    let jwtToken;\n    switch (type) {\n      case ACCOUNT_CATEGORY.EXTERNAL:\n        {\n          if (!idToken) throw new Error(\"SIWW idToken must be present\");\n          const response = await post(`${this.config.api}/auth/verify`, _objectSpread({\n            account_type: type,\n            public_address: address,\n            id_token: idToken,\n            verifier: userInfo.groupedAuthConnectionId || userInfo.authConnectionId,\n            verifier_id: userInfo.userId,\n            chain_namespace: this.chainNamespace\n          }, metadata), {}, {\n            useAPIKey: true\n          });\n          jwtToken = response.token;\n          break;\n        }\n      case ACCOUNT_CATEGORY.IMPORTED:\n      case ACCOUNT_CATEGORY.APP_SCOPED_DERIVED:\n      case ACCOUNT_CATEGORY.ACCOUNT_ABSTRACTION:\n        {\n          if (!idToken) throw new Error(\"Web3Auth idToken must be present\");\n          const response = await post(`${this.config.api}/auth/verify`, _objectSpread({\n            public_address: address,\n            id_token: idToken,\n            verifier: userInfo.groupedAuthConnectionId || userInfo.authConnectionId,\n            verifier_id: userInfo.userId,\n            account_type: type,\n            chain_namespace: this.chainNamespace\n          }, metadata), {}, {\n            useAPIKey: true\n          });\n          jwtToken = response.token;\n          break;\n        }\n      case ACCOUNT_CATEGORY.MPC:\n      case ACCOUNT_CATEGORY.SFA:\n      case ACCOUNT_CATEGORY.SFA_ACCOUNT_ABSTRACTION:\n        {\n          if (!metadata.signatures) throw new Error(\"web3auth signatures must be present\");\n          const response = await post(`${this.config.api}/auth/verify`, _objectSpread({\n            public_address: address,\n            verifier: userInfo.groupedAuthConnectionId || userInfo.authConnectionId,\n            verifier_id: userInfo.userId,\n            account_type: type,\n            chain_namespace: this.chainNamespace\n          }, metadata), {}, {\n            useAPIKey: true\n          });\n          jwtToken = response.token;\n          break;\n        }\n      case ACCOUNT_CATEGORY.NORMAL:\n      case ACCOUNT_CATEGORY.THRESHOLD:\n      case ACCOUNT_CATEGORY.APP_SCOPED:\n      default:\n        if (!idToken) throw new Error(\"Web3Auth idToken must be present\");\n        jwtToken = idToken;\n        break;\n    }\n    this.updateState({\n      jwtToken,\n      userInfo,\n      accountType: type !== null && type !== void 0 ? type : this.defaultPreferences.accountType\n    }, address);\n  }\n  updateState(preferences, address) {\n    const selectedAddress = address || this.state.selectedAddress;\n    const currentState = this.getAddressState(selectedAddress) || cloneDeep(this.defaultPreferences);\n    const mergedState = _objectSpread(_objectSpread({}, currentState), preferences);\n    this.update({\n      identities: _objectSpread(_objectSpread({}, this.state.identities), {}, {\n        [selectedAddress]: mergedState\n      })\n    });\n    return mergedState;\n  }\n  authCredentials(address) {\n    var _this$getAddressState7;\n    const selectedAddress = address || this.state.selectedAddress;\n    const jwtToken = ((_this$getAddressState7 = this.getAddressState(selectedAddress)) === null || _this$getAddressState7 === void 0 ? void 0 : _this$getAddressState7.jwtToken) || \"\";\n    return {\n      jwtToken,\n      publicAddress: selectedAddress,\n      chainNamespace: this.chainNamespace\n    };\n  }\n  headers(address) {\n    var _this$getAddressState8;\n    const selectedAddress = address || this.state.selectedAddress;\n    return getHeaders(((_this$getAddressState8 = this.getAddressState(selectedAddress)) === null || _this$getAddressState8 === void 0 ? void 0 : _this$getAddressState8.jwtToken) || \"\", selectedAddress);\n  }\n}\n\nexport { BasePreferencesController, DEFAULT_PREFERENCES };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1534, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/node_modules/.pnpm/%40toruslabs%2Bbase-controllers%408.10.0_%40babel%2Bruntime%407.28.4_%40sentry%2Bcore%409.22.0_bufferutil_ef1d9b5bbfb85dece8035b6ce8ce91c3/node_modules/%40toruslabs/base-controllers/dist/lib.esm/Transaction/BaseTransactionStateController.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { BaseController } from '../BaseController.js';\nimport { pickBy, omitBy } from '../utils/lodashUtils.js';\nimport { TransactionStatus, TX_EVENTS } from './ITransactionController.js';\nimport { transactionMatchesNetwork } from '../utils/utils.js';\n\nclass BaseTransactionStateManager extends BaseController {\n  constructor({\n    config,\n    state,\n    getCurrentChainId\n  }) {\n    super({\n      config,\n      state\n    });\n    _defineProperty(this, \"getCurrentChainId\", void 0);\n    this.defaultConfig = {\n      txHistoryLimit: 40\n    };\n    this.defaultState = {\n      transactions: {},\n      unapprovedTxs: {},\n      currentNetworkTxsList: []\n    };\n    this.initialize();\n    this.getCurrentChainId = getCurrentChainId;\n  }\n  getUnapprovedTxList() {\n    const chainId = this.getCurrentChainId();\n    return pickBy(this.state.transactions, transaction => transaction.status === TransactionStatus.unapproved && transactionMatchesNetwork(transaction, chainId));\n  }\n  getTransaction(txId) {\n    const {\n      transactions\n    } = this.state;\n    return transactions[txId];\n  }\n  updateTransaction(txMeta) {\n    // commit txMeta to state\n    const txId = txMeta.id;\n    txMeta.updated_at = new Date().toISOString();\n    this.update({\n      transactions: _objectSpread(_objectSpread({}, this.state.transactions), {}, {\n        [txId]: txMeta\n      })\n    });\n  }\n  setTxStatusRejected(txId) {\n    this._setTransactionStatus(txId, TransactionStatus.rejected);\n    this._deleteTransaction(txId);\n  }\n\n  /**\n   * The implementing controller can override this functionality and add custom logic + call super.()\n   */\n  setTxStatusUnapproved(txId) {\n    this._setTransactionStatus(txId, TransactionStatus.unapproved);\n  }\n  setTxStatusApproved(txId) {\n    this._setTransactionStatus(txId, TransactionStatus.approved);\n  }\n  setTxStatusSigned(txId, isFinalStep) {\n    this._setTransactionStatus(txId, TransactionStatus.signed, isFinalStep);\n  }\n  setTxStatusSubmitted(txId) {\n    this._setTransactionStatus(txId, TransactionStatus.submitted);\n  }\n  setTxStatusDropped(txId) {\n    this._setTransactionStatus(txId, TransactionStatus.dropped);\n  }\n  setTxStatusExpired(txId) {\n    this._setTransactionStatus(txId, TransactionStatus.expired);\n  }\n  setTxStatusConfirmed(txId) {\n    this._setTransactionStatus(txId, TransactionStatus.confirmed);\n  }\n  setTxStatusFailed(txId, error_) {\n    const error = !error_ ? new Error(\"Internal torus failure\") : error_;\n    const txMeta = this.getTransaction(txId);\n    txMeta.error = error;\n    this.updateTransaction(txMeta);\n    this._setTransactionStatus(txId, TransactionStatus.failed);\n  }\n\n  /**\n   * Method to determine if the transaction is in a final state\n   * @param status - Transaction status\n   * @returns boolean if the transaction is in a final state\n   */\n  isFinalState(status) {\n    return status === TransactionStatus.rejected || status === TransactionStatus.submitted || status === TransactionStatus.confirmed || status === TransactionStatus.failed || status === TransactionStatus.cancelled || status === TransactionStatus.expired;\n  }\n\n  /**\n   * Filters out the unapproved transactions from state\n   */\n  clearUnapprovedTxs() {\n    this.update({\n      transactions: omitBy(this.state.transactions, transaction => transaction.status === TransactionStatus.unapproved)\n    });\n  }\n\n  /**\n   * will append new transactions to old txns.\n   */\n  _addTransactionsToState(transactions) {\n    this.update({\n      transactions: transactions.reduce((result, newTx) => {\n        result[newTx.id] = newTx;\n        return result;\n      }, this.state.transactions)\n    });\n  }\n\n  /**\n   * will set new txns, override existing if any in state.\n   */\n  _setTransactionsToState(transactions) {\n    this.update({\n      transactions: transactions.reduce((result, newTx) => {\n        result[newTx.id] = newTx;\n        return result;\n      }, {})\n    });\n  }\n  _deleteTransaction(targetTransactionId) {\n    const {\n      transactions\n    } = this.state;\n    delete transactions[targetTransactionId];\n    this.update({\n      transactions\n    });\n  }\n  _deleteTransactions(targetTransactionIds) {\n    const {\n      transactions\n    } = this.state;\n    targetTransactionIds.forEach(transactionId => {\n      delete transactions[transactionId];\n    });\n    this.update({\n      transactions\n    });\n  }\n  _setTransactionStatus(txId, status, isFinalStep) {\n    const txMeta = this.getTransaction(txId);\n    if (!txMeta) {\n      return;\n    }\n    txMeta.status = status;\n    // only updating status so no validation required on txn.\n    this.updateTransaction(txMeta);\n    this.emit(TX_EVENTS.TX_STATUS_UPDATE, {\n      txId,\n      status\n    });\n    if (this.isFinalState(status) || isFinalStep) {\n      this.emit(`${txMeta.id}:finished`, txMeta);\n    } else {\n      this.emit(`${txMeta.id}:${status}`, txId);\n    }\n  }\n}\n\nexport { BaseTransactionStateManager };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}}]
}