{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///mnt/Covenant/Cursor-Agent/metamask-web3auth/app/treasure/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\n\nconst TreasureDAOPage = () => {\n  const [magicBalance, setMagicBalance] = useState<string | null>(null);\n  const [account, setAccount] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Treasure DAO Contract Addresses\n  const MAGIC_TOKEN = \"0x539bdE0d7Dbd336b79148AA742883198BBF60342\";\n  const TREASURE_NFT = \"0xEBba467eCB6b21239178033189CeAE27CA12EaDf\";\n  const LEGION_NFT = \"0xfE8c1ac365bA6780AEc5a985D989b327C27670A1\";\n  const PORTAL = \"0x81FA605235E4c32d8b440eEBE43D82e9E083166b\";\n  const ATLAS_MINE = \"0xA0A89db1C899c49F98E6326b764BAFcf167fC2CE\";\n  const INFURA_API_KEY = \"1b5ea986136c4b49b92b726b3fda879f\";\n  const RPC_URL = `https://arbitrum-mainnet.infura.io/v3/${INFURA_API_KEY}`;\n\n  useEffect(() => {\n    const loadTreasureData = async () => {\n      try {\n        const provider = new ethers.JsonRpcProvider(RPC_URL);\n\n        // Try to get connected account from MetaMask\n        if (typeof window !== \"undefined\" && window.ethereum) {\n          const accounts = await window.ethereum.request({\n            method: \"eth_accounts\",\n          });\n          if (accounts.length > 0) {\n            setAccount(accounts[0]);\n            await fetchMagicBalance(accounts[0], provider);\n          }\n        }\n\n        setLoading(false);\n      } catch (err: any) {\n        console.error(\"Error loading Treasure DAO data:\", err);\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    loadTreasureData();\n  }, []);\n\n  const fetchMagicBalance = async (address: string, provider: ethers.JsonRpcProvider) => {\n    try {\n      const magicAbi = [\n        \"function balanceOf(address owner) view returns (uint256)\",\n        \"function decimals() view returns (uint8)\",\n        \"function symbol() view returns (string)\",\n      ];\n\n      const magicContract = new ethers.Contract(MAGIC_TOKEN, magicAbi, provider);\n      const balance = await magicContract.balanceOf(address);\n      const decimals = await magicContract.decimals();\n      const symbol = await magicContract.symbol();\n\n      const formattedBalance = ethers.formatUnits(balance, decimals);\n      setMagicBalance(`${formattedBalance} ${symbol}`);\n    } catch (err: any) {\n      console.error(\"Error fetching MAGIC balance:\", err);\n      setError(err.message);\n    }\n  };\n\n  const connectWallet = async () => {\n    try {\n      if (typeof window === \"undefined\" || !window.ethereum) {\n        throw new Error(\"MetaMask not installed\");\n      }\n\n      const accounts = await window.ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n\n      if (accounts.length > 0) {\n        setAccount(accounts[0]);\n        const provider = new ethers.JsonRpcProvider(RPC_URL);\n        await fetchMagicBalance(accounts[0], provider);\n      }\n    } catch (err: any) {\n      console.error(\"Error connecting wallet:\", err);\n      setError(err.message);\n    }\n  };\n\n  return (\n    <main style={{ padding: \"2rem\", maxWidth: \"1000px\", margin: \"0 auto\" }}>\n      <h1 style={{ marginBottom: \"2rem\" }}>üè¥‚Äç‚ò†Ô∏è Treasure DAO Integration</h1>\n\n      {loading && <p>Loading Treasure DAO data...</p>}\n\n      {error && (\n        <div style={{ color: \"red\", marginBottom: \"1rem\", padding: \"1rem\", backgroundColor: \"#fee\", borderRadius: \"8px\" }}>\n          Error: {error}\n        </div>\n      )}\n\n      {!account && (\n        <div style={{ marginBottom: \"2rem\" }}>\n          <button\n            onClick={connectWallet}\n            style={{\n              padding: \"0.75rem 1.5rem\",\n              fontSize: \"1rem\",\n              backgroundColor: \"#0066cc\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"8px\",\n              cursor: \"pointer\",\n            }}\n          >\n            Connect Wallet\n          </button>\n        </div>\n      )}\n\n      {account && (\n        <div style={{ marginBottom: \"2rem\", padding: \"1rem\", backgroundColor: \"#f5f5f5\", borderRadius: \"8px\" }}>\n          <p style={{ fontWeight: \"bold\" }}>Connected: {account}</p>\n          {magicBalance && (\n            <p style={{ marginTop: \"0.5rem\" }}>\n              <strong>MAGIC Balance:</strong> {magicBalance}\n            </p>\n          )}\n        </div>\n      )}\n\n      <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(300px, 1fr))\", gap: \"1rem\" }}>\n        <div style={{ padding: \"1.5rem\", backgroundColor: \"#f9f9f9\", borderRadius: \"8px\", border: \"1px solid #ddd\" }}>\n          <h3>MAGIC Token</h3>\n          <p style={{ fontFamily: \"monospace\", fontSize: \"0.9rem\", wordBreak: \"break-all\" }}>\n            {MAGIC_TOKEN}\n          </p>\n          <p style={{ marginTop: \"0.5rem\", color: \"#666\" }}>\n            ERC-20 token powering the Treasure ecosystem\n          </p>\n        </div>\n\n        <div style={{ padding: \"1.5rem\", backgroundColor: \"#f9f9f9\", borderRadius: \"8px\", border: \"1px solid #ddd\" }}>\n          <h3>Legion NFT</h3>\n          <p style={{ fontFamily: \"monospace\", fontSize: \"0.9rem\", wordBreak: \"break-all\" }}>\n            {LEGION_NFT}\n          </p>\n          <p style={{ marginTop: \"0.5rem\", color: \"#666\" }}>\n            ERC-721 NFT collection for Bridgeworld\n          </p>\n        </div>\n\n        <div style={{ padding: \"1.5rem\", backgroundColor: \"#f9f9f9\", borderRadius: \"8px\", border: \"1px solid #ddd\" }}>\n          <h3>Treasure NFT</h3>\n          <p style={{ fontFamily: \"monospace\", fontSize: \"0.9rem\", wordBreak: \"break-all\" }}>\n            {TREASURE_NFT}\n          </p>\n          <p style={{ marginTop: \"0.5rem\", color: \"#666\" }}>\n            ERC-1155 NFT collection for game items\n          </p>\n        </div>\n\n        <div style={{ padding: \"1.5rem\", backgroundColor: \"#f9f9f9\", borderRadius: \"8px\", border: \"1px solid #ddd\" }}>\n          <h3>Portal Contract</h3>\n          <p style={{ fontFamily: \"monospace\", fontSize: \"0.9rem\", wordBreak: \"break-all\" }}>\n            {PORTAL}\n          </p>\n          <p style={{ marginTop: \"0.5rem\", color: \"#666\" }}>\n            Bridgeworld Portal for treasure access\n          </p>\n        </div>\n\n        <div style={{ padding: \"1.5rem\", backgroundColor: \"#f9f9f9\", borderRadius: \"8px\", border: \"1px solid #ddd\" }}>\n          <h3>Atlas Mine</h3>\n          <p style={{ fontFamily: \"monospace\", fontSize: \"0.9rem\", wordBreak: \"break-all\" }}>\n            {ATLAS_MINE}\n          </p>\n          <p style={{ marginTop: \"0.5rem\", color: \"#666\" }}>\n            Staking contract for MAGIC rewards\n          </p>\n        </div>\n      </div>\n\n      <div style={{ marginTop: \"2rem\", padding: \"1.5rem\", backgroundColor: \"#e8f4f8\", borderRadius: \"8px\" }}>\n        <h3>Resources</h3>\n        <ul style={{ listStyle: \"none\", padding: 0 }}>\n          <li style={{ marginBottom: \"0.5rem\" }}>\n            <a href=\"https://treasure.lol\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#0066cc\" }}>\n              Treasure DAO Website ‚Üí\n            </a>\n          </li>\n          <li style={{ marginBottom: \"0.5rem\" }}>\n            <a href=\"https://bridgeworld.treasure.lol\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#0066cc\" }}>\n              Bridgeworld Game ‚Üí\n            </a>\n          </li>\n          <li style={{ marginBottom: \"0.5rem\" }}>\n            <a href=\"https://docs.treasure.lol\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#0066cc\" }}>\n              Treasure DAO Docs ‚Üí\n            </a>\n          </li>\n          <li style={{ marginBottom: \"0.5rem\" }}>\n            <a href={`https://arbiscan.io/address/${MAGIC_TOKEN}`} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#0066cc\" }}>\n              MAGIC Token on Arbiscan ‚Üí\n            </a>\n          </li>\n        </ul>\n      </div>\n    </main>\n  );\n};\n\nexport default TreasureDAOPage;\n"],"names":[],"mappings":"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","debugId":null}}]
}